"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[134],{623:function(t,e,n){n.d(e,{Aj:function(){return s},Jh:function(){return f},XT:function(){return l},_r:function(){return h},s_:function(){return p}});var r=n(861),a=n(687),c=n.n(a),u=n(912),o="https://api.themoviedb.org/3",i="ced4c166bd9d448eb708ac1c947ec551",s=function(){var t=(0,r.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/trending/movie/day?api_key=").concat(i));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/movie/").concat(e,"?api_key=").concat(i));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(i));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(i,"&page=1"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.get("".concat(o,"/search/movie?api_key=").concat(i,"&query=").concat(e,"&include_adult=false"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},126:function(t,e,n){n.d(e,{e:function(){return u}});var r=n(689),a=n(87),c=n(184),u=function(t){var e=t.movie,n=(0,r.TH)();return(0,c.jsx)("ul",{children:e.map((function(t){return(0,c.jsx)("li",{children:(0,c.jsxs)(a.OL,{to:"/movies/".concat(t.id),state:{from:n},children:[(0,c.jsx)("img",{src:t.poster_path?"https://image.tmdb.org/t/p/w200".concat(t.poster_path):"https://media.istockphoto.com/id/1357365823/vector/default-image-icon-vector-missing-picture-page-for-website-design-or-mobile-app-no-photo.jpg?s=612x612&w=0&k=20&c=PM_optEhHBTZkuJQLlCjLz-v3zzxp-1mpNQZsdjrbns=",alt:t.title}),(0,c.jsx)("p",{children:t.title})]})},t.id)}))})}},134:function(t,e,n){n.r(e),n.d(e,{default:function(){return f}});var r=n(433),a=n(439),c=n(791),u=n(87),o=n(623),i=n(126),s=n(966),p=n(184);function f(){var t=(0,u.lr)(),e=(0,a.Z)(t,2),n=e[0],f=e[1],h=(0,c.useState)([]),l=(0,a.Z)(h,2),d=l[0],m=l[1],v=(0,c.useState)(""),x=(0,a.Z)(v,2),g=x[0],k=x[1],b=(0,c.useState)(!1),w=(0,a.Z)(b,2),Z=w[0],j=w[1],y=(0,c.useState)(null),_=(0,a.Z)(y,2),S=_[0],C=_[1],T=n.get("search");(0,c.useEffect)((function(){T&&(j(!0),(0,o.XT)(T).then((function(t){m((0,r.Z)(t.results))})).catch((function(t){return C(t)})).finally(j(!1)))}),[T]);return(0,p.jsxs)(p.Fragment,{children:[S&&(0,p.jsx)("h1",{children:"Error!"}),(0,p.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""===g.trim())return alert("Input search data");g.trim()!==T&&(m([]),f({search:g.trim()}))},children:[(0,p.jsx)("label",{htmlFor:"",children:(0,p.jsx)("input",{type:"text",name:"searchData",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:g,onChange:function(t){k(t.target.value)}})}),(0,p.jsx)("button",{type:"submit",children:"Search"})]}),Z&&(0,p.jsx)(s.a,{}),(0,p.jsx)(i.e,{movie:d})]})}}}]);
//# sourceMappingURL=134.9203a200.chunk.js.map